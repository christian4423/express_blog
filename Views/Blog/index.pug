extends ../layout2.pug

block body_content
    div.row
        div.col-xs-12
            hr
            h3="My Feed"  
    div.row
        div.col-xs-12.blog_container    
            if ViewBag.blogs.length > 0
                each blog in ViewBag.blogs
                    hr
                    div.row.blog_post(data-blog=`${blog.blog_id}`)
                        div.col-xs-2.col-sm-1
                            img.profile_picture.profile_picture--blog(src=blog.profile_pic alt=`${blog.user_added}'s' Profile Picture` title=`${blog.user_added}'s' Profile Picture`)
                        div.col-xs-10.col-sm-6                
                            h5.__title(title="Post Owner")
                                a(href=`/profile/view/${blog.user_id}` target="_parent")
                                    span(title=`View ${blog.user_added}'s profile`)= blog.user_added
                                a.time(href=`/blog/view/${blog.blog_id}` target="_blank")
                                    span(title="See post in new tab")= `${blog.time_ago}`
                            h3(title="Subject")= blog.subject
                            p(title="Body")!= blog.body
                            p(title="Tags")
                                div.blog-tag.blog-tag--icon(title="tags")
                                    i.fa.fa-tags(style="display: inline-block")
                                each tag in blog.tags
                                    div(title=tag).blog-tag 
                                        span=` ${tag}`      
                        div.col-xs-12.col-sm-6.editBtns.text-right
                            div.btn-group
                                div.btn.btn-danger(data-blog_delete=`${blog.blog_id}` title="Delete Blog")
                                    i.fa.fa-trash-o
                                div.btn.btn-success(data-blog_edit=`${blog.blog_id}` title="Edit Blog")
                                    i.fa.fa-pencil

                div.modal.fade#confirm_modal(tabindex="-1" role="dialog" style="display:none;")
                    div.modal-dialog(role="document")
                        div.modal-content
                            div.modal-header
                                button.close(type="button" data-dismiss="modal" aria-label="Close")
                                    span(aria-hidden="true")!= "&times;"
                                h4.modal-title= "Are you sure?"
                            div.modal-body
                                div.row
                                    div.col-xs-6.text-right
                                        div.btn.btn-success(data-confirm="false")
                                            i.fa.fa-times
                                    div.col-xs-6.text-left(data-confirm="true")
                                        div.btn.btn-danger
                                            i.fa.fa-check      
            else
                h3="No Blogs"